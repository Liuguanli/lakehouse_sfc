# Lakehouse target environment (edit as you like)

# Versions / expectations
export SPARK_VERSION_EXPECTED=3.5
export SPARK_VERSION=3.5.1
export SCALA_BIN=2.12
export HADOOP_PROFILE=hadoop3
export FORCE_SPARK35=1            # 1 = require Spark 3.5.x (soft fail in validate, hard fix in --repair)

# Java policy
export JAVA_MIN_8_UPDATE=371      # if Java 8, must be >= 1.8.0_371
export JAVA_PREFERRED_MAJOR=17    # used when we have to install Java locally or hint the user

# Lakehouse engines (Scala 2.12 builds)
export ICEBERG_PKG="org.apache.iceberg:iceberg-spark-runtime-3.5_2.12:1.5.0"
export HUDI_PKG="org.apache.hudi:hudi-spark3.5-bundle_2.12:1.0.2"
export DELTA_PKG="io.delta:delta-spark_2.12:3.2.0"

# Install prefix (user-space, no sudo)
export PREFIX="$HOME/.lakehouse"
export SPARK_TGZ="spark-${SPARK_VERSION}-bin-${HADOOP_PROFILE}.tgz"
export SPARK_DIR="spark-${SPARK_VERSION}-bin-${HADOOP_PROFILE}"

# Optional mirrors (leave empty to use Apache archive)
# export SPARK_DOWNLOAD_BASE="https://archive.apache.org/dist/spark/spark-${SPARK_VERSION}"
# Example mirror:
# export SPARK_DOWNLOAD_BASE="https://dlcdn.apache.org/spark/spark-${SPARK_VERSION}"
